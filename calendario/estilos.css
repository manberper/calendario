/* -------------------------------
   Variables CSS
---------------------------------- */
:root {
    --color-primary: #4d2ff7; /* Azul/Morado fuerte */
    --color-secondary: #f10713; /* Rojo vibrante */
    --color-text-light: #fff; /* Texto blanco */
    --color-text-dark: #333; /* Texto oscuro (para fondos claros) */
    --color-bg-panel: rgba(255, 255, 255, 0.15); /* Fondo semitransparente para paneles */
    --color-border: rgba(255, 255, 255, 0.3); /* Borde general semitransparente */
    --color-hover: rgba(255, 255, 255, 0.25); /* Color al pasar el ratón */
    --color-active: #ffc107; /* Amarillo para elementos activos/seleccionados */
    --color-task-badge: #28a745; /* Verde para el badge de tareas */
    --color-task-bg: #800080; /* Morado para el fondo de las tareas en vista día/semana */
    --color-hoy-bg: #007bff; /* Azul para el día actual */
    --modal-bg: rgba(0, 0, 0, 0.6); /* Fondo del modal */
    --modal-content-bg: #444; /* Fondo del contenido del modal */
    --header-height-week-day: 60px; /* ¡AUMENTADO UN 50%! Ahora 60px */
    --hour-column-width: 80px; /* Ancho de la columna de horas */
    --slot-height: 60px; /* Altura mínima de cada slot de hora */
    --gap-size: 1px; /* Tamaño del gap entre elementos de grid */
}

/* --- BORRAR LOS BORDES DE DEPURACIÓN EN PRODUCCIÓN --- */
/*
html { border: 5px dashed grey !important; }
body { border: 3px solid hotpink !important; }
#main-content-area { border: 3px solid limegreen !important; }
#calendar { border: 3px solid yellow !important; }
.calendar-week-headers, .calendar-day-header-single { border: 2px solid purple !important; }
.calendar-time-slots-grid { border: 3px solid cyan !important; }
*/
/* --- FIN DE BORDES DE DEPURACIÓN --- */

/* -------------------------------
   Estilos base para el body y el layout principal
---------------------------------- */
html, body {
    height: 100%; /* Asegurar que html y body ocupen toda la altura */
    margin: 0;
    padding: 0;
}

body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background: linear-gradient(135deg, var(--color-primary), var(--color-secondary));
    color: var(--color-text-light);
    display: flex;
    overflow: hidden; /* Controla el scroll del body */
    flex-direction: row;
}

/* -------------------------------
   Paneles laterales (Formulario y Tareas del día/Próximas tareas)
---------------------------------- */
aside {
    padding: 20px;
    background: var(--color-bg-panel);
    border-right: 1px solid var(--color-border);
    display: flex;
    flex-direction: column;
    gap: 20px; /* Separación entre el formulario y el contenedor de próximas tareas */
    overflow-y: auto;
    flex-shrink: 0;
    width: 280px;
    box-sizing: border-box;
}

#panel-izquierdo {
    border-left: none;
}

#panel-derecho {
    border-left: 1px solid var(--color-border);
    border-right: none;
    /* #panel-tareas ya no está aquí, así que removemos estos estilos si existían */
}

/* Contenedor del formulario */
#formulario-container {
    display: flex;
    flex-direction: column;
    gap: 10px; /* Espacio entre h2 y formulario, y entre elementos del formulario si es necesario */
}

/* Contenedor específico para tareas y filtro en el panel izquierdo (¡antes estaba en el derecho!) */
#proximas-tareas-container { /* Nuevo selector para el contenedor del filtro y la lista */
    display: flex;
    flex-direction: column;
    gap: 10px; /* Espacio entre el h2, label y select */
}

aside h2 {
    color: var(--color-active);
    text-align: center;
    margin-top: 0;
    padding-bottom: 10px;
    border-bottom: 1px solid var(--color-border);
}

/* Estilos de formulario */
form {
    display: flex;
    flex-direction: column;
    gap: 10px;
}

form label {
    font-weight: bold;
    margin-bottom: 5px;
    color: var(--color-text-light);
}

form input[type="date"],
form input[type="time"],
form input[type="text"],
form input[type="number"],
form select { /* Estilos para select general en formularios */
    padding: 8px;
    border: 1px solid var(--color-border);
    border-radius: 4px;
    background-color: rgba(255, 255, 255, 0.1); /* Fondo oscuro/transparente */
    color: var(--color-text-light); /* Texto blanco */
    font-size: 1em;
    appearance: none; /* Elimina estilos por defecto del navegador para flecha (para estilizarla) */
    -webkit-appearance: none; /* Para Safari/Chrome */
    -moz-appearance: none; /* Para Firefox */
    background-image: url('data:image/svg+xml;utf8,<svg fill="%23ffffff" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M7 10l5 5 5-5z"/><path d="M0 0h24v24H0z" fill="none"/></svg>'); /* Flecha SVG blanca */
    background-repeat: no-repeat;
    background-position: right 8px center;
    background-size: 16px;

    /* Intentar forzar el esquema de color en el desplegable */
    color-scheme: dark; /* Sugiere que el navegador renderice en modo oscuro */
}

/* Intentar estilizar las opciones dentro del select (puede no funcionar en todos los navegadores) */
form select option {
    background-color: var(--modal-content-bg); /* Un fondo oscuro para las opciones */
    color: var(--color-text-light); /* Color de texto blanco para las opciones */
}


form input[type="date"]::-webkit-calendar-picker-indicator {
    filter: invert(1);
}

form button[type="submit"] {
    padding: 10px 15px;
    background-color: var(--color-active);
    color: var(--color-text-dark);
    border: none;
    border-radius: 5px;
    cursor: pointer;
    font-size: 1em;
    font-weight: bold;
    transition: background-color 0.2s ease;
    margin-top: 15px;
}

form button[type="submit"]:hover {
    background-color: #ffd700;
}

/* Listas de tareas en los paneles laterales */
#lista-proximas-tareas,
#lista-tareas {
    list-style: none;
    padding: 0;
    margin: 0;
}

.tarea-item-panel {
    background-color: rgba(255, 255, 255, 0.08);
    border: 1px solid var(--color-border);
    border-radius: 5px;
    padding: 10px;
    margin-bottom: 8px; /* Espacio debajo de cada tarea */
    font-size: 0.9em;
    cursor: pointer;
    transition: background-color 0.2s ease, transform 0.2s ease;
}

.tarea-item-panel:hover {
    background-color: rgba(255, 255, 255, 0.15);
    transform: translateY(-2px);
}

.tarea-item-panel strong {
    color: var(--color-active);
}

/* -------------------------------
   Contenido principal (Calendario)
---------------------------------- */
#main-content-area {
    flex-grow: 1;
    display: flex;
    flex-direction: column;
    gap: 20px; /* Default gap for month view */
    margin: 20px;
    box-sizing: border-box;
    min-height: 0;
}

/* CAMBIO CLAVE: Ajustar el gap de main-content-area para vistas de semana/día */
#main-content-area.week-day-view { /* Asume que JS añade esta clase a main-content-area */
    gap: 0; /* Elimina el gap entre calendar-header y #calendar para que #calendar pueda ocupar el 100% del espacio restante */
}


/* Cabecera del calendario (navegación y selector de vista) */
#calendar-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 10px 0;
    background: rgba(255, 255, 255, 0.1);
    border-radius: 8px;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
    flex-shrink: 0;
    flex-wrap: wrap;
}

#calendar-header h2 {
    margin: 0;
    flex-grow: 1;
    text-align: center;
    color: var(--color-active);
}

#calendar-header button {
    background: var(--color-primary);
    color: var(--color-text-light);
    border: none;
    padding: 8px 15px;
    cursor: pointer;
    border-radius: 50%;
    font-size: 1.1em;
    transition: background-color 0.2s ease;
    width: 40px;
    height: 40px;
    display: flex;
    align-items: center;
    justify-content: center;
    box-sizing: border-box;
    margin: 0 5px;
}

#calendar-header button:hover {
    background-color: #3a22c0;
}

/* Contenedor de los botones de vista (Mes, Semana, Día) */
#view-selector {
    display: flex;
    gap: 10px;
    flex-direction: row;
    margin-left: auto;
}

#view-selector button {
    background-color: var(--color-bg-panel);
    padding: 6px 10px; /* Tamaño base de los botones de vista */
    font-size: 0.85em; /* Tamaño base de los botones de vista */
    border: 1px solid var(--color-border);
    border-radius: 5px;
    margin: 0 2px;
    min-width: 60px;
}

#view-selector button.active {
    background-color: var(--color-active);
    color: var(--color-text-dark);
    font-weight: bold;
    border-color: var(--color-active);
}

#view-selector button:hover:not(.active) {
    background-color: var(--color-hover);
}

/* Ajustes para que dayPicker se parezca a los botones de vista */
#dayPicker {
    padding: 6px 10px; /* Igual que #view-selector button */
    border: 1px solid var(--color-border); /* Igual que #view-selector button */
    border-radius: 5px; /* Igual que #view-selector button */
    background-color: var(--color-bg-panel); /* Igual que #view-selector button */
    color: var(--color-text-light);
    font-size: 0.85em; /* Igual que #view-selector button */
    margin-right: 10px; /* Mantiene el margen derecho */
    min-width: 60px; /* Asegura que tenga un ancho similar a los botones */
    box-sizing: border-box; /* Incluye padding y border en el ancho/alto */
    height: 34px; /* Ajuste manual para que el alto coincida con los botones (padding + font-size) */
}

#dayPicker::-webkit-calendar-picker-indicator {
    filter: invert(1);
}

/* Estilos para el label del filtro de profesionales (AHORA EN #proximas-tareas-container) */
#proximas-tareas-container label[for="filtroProfesional"] { /* Actualizado el selector */
    font-weight: bold;
    /* margin-bottom: 5px; */ /* Ya se controla con el gap del contenedor */
    color: var(--color-text-light);
    /* Para que sea EXACTAMENTE igual a los labels del formulario: */
    /* font-size: 1em; */
    /* Puedes incluso copiar directamente: */
    /* @extend form label; */ /* (si usas preprocesadores CSS como Sass/Less) */
}

/* Estilos para el desplegable de filtro de profesionales (AHORA CON MARGEN INFERIOR) */
#filtroProfesional {
    padding: 8px;
    border: 1px solid var(--color-border);
    border-radius: 4px;
    background-color: rgba(255, 255, 255, 0.1);
    color: var(--color-text-light);
    font-size: 1em;
    appearance: none;
    -webkit-appearance: none;
    -moz-appearance: none;
    background-image: url('data:image/svg+xml;utf8,<svg fill="%23ffffff" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M7 10l5 5 5-5z"/><path d="M0 0h24v24H0z" fill="none"/></svg>');
    background-repeat: no-repeat;
    background-position: right 8px center;
    background-size: 16px;
    color-scheme: dark;
    width: 100%;
    box-sizing: border-box;
    margin-bottom: 8px; /* ¡NUEVO! Espacio debajo para que coincida con .tarea-item-panel */
}

/* Intentar estilizar las opciones dentro del select de filtro (puede no funcionar en todos los navegadores) */
#filtroProfesional option {
    background-color: var(--modal-content-bg);
    color: var(--color-text-light);
}


/* Estilos de la rejilla del calendario (general) */
#calendar {
    flex-grow: 1;
    /* Por defecto, lo preparamos para la vista de mes (grid) */
    display: grid; /* Default para Mes */
    gap: var(--gap-size);
    background-color: var(--color-border);
    border-radius: 8px;
    overflow: hidden;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
    min-height: 0;
}

.dia, .hora-slot, .dia-semana-header, .dia-semana-completo, .corner-header {
    background-color: rgba(255, 255, 255, 0.1);
    padding: 10px;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    position: relative;
    transition: background-color 0.2s ease;
    box-sizing: border-box;
}

.dia:hover:not(.otro-mes):not(.selected),
.tarea-area-slot:hover {
    background-color: var(--color-hover);
    cursor: pointer;
}

/* Vista de mes */
.calendar-grid-mes {
    grid-template-columns: repeat(7, 1fr);
    grid-auto-rows: minmax(80px, auto);
}

.dia-semana-header {
    background-color: var(--color-primary);
    color: var(--color-text-light);
    font-weight: bold;
    padding: 8px 0;
    text-align: center;
    font-size: 0.9em;
}

.dia {
    min-height: 80px;
    text-align: center;
}

.dia-numero {
    font-size: 1.2em;
    font-weight: bold;
    margin-bottom: 5px;
}

.dia.otro-mes {
    background-color: rgba(0, 0, 0, 0.1);
    color: rgba(255, 255, 255, 0.4);
    cursor: default;
}

.dia.otro-mes:hover {
    background-color: rgba(0, 0, 0, 0.1);
}

.dia.hoy {
    background-color: var(--color-hoy-bg);
    color: var(--color-text-light);
    font-weight: bold;
    box-shadow: inset 0 0 0 2px var(--color-active);
}

.dia.hoy .hoy-text {
    font-size: 0.7em;
    background-color: rgba(0, 0, 0, 0.3);
    padding: 2px 5px;
    border-radius: 3px;
    margin-top: 3px;
}

.dia.selected {
    background-color: var(--color-active);
    color: var(--color-text-dark);
    font-weight: bold;
    box-shadow: inset 0 0 0 2px var(--color-primary);
}

.tarea-badge {
    position: absolute;
    bottom: 5px;
    right: 5px;
    background-color: var(--color-task-badge);
    color: var(--color-text-light);
    border-radius: 50%;
    width: 22px;
    height: 22px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 0.75em;
    font-weight: bold;
}

/* --- Estilos para vista de Semana y Día --- */

/* Contenedor principal de calendario para vista de semana/día */
#calendar.calendar-grid-semana,
#calendar.calendar-grid-dia {
    display: flex;
    flex-direction: column;
    height: 100%;
    min-height: 0;
    overflow: hidden;
    gap: 0;
    background-color: transparent;
    border-radius: 0;
}

/* Grid para los encabezados de la semana */
.calendar-week-headers {
    display: grid;
    grid-template-columns: var(--hour-column-width) repeat(7, 1fr);
    grid-template-rows: var(--header-height-week-day);
    position: sticky;
    top: 0;
    z-index: 10;
    background-color: var(--color-primary);
    border-bottom: var(--gap-size) solid var(--color-border);
    flex-shrink: 0;
}

/* Grid para el encabezado de un solo día (vista de día) */
.calendar-day-header-single {
    display: grid;
    grid-template-columns: var(--hour-column-width) 1fr;
    grid-template-rows: var(--header-height-week-day);
    position: sticky;
    top: 0;
    z-index: 10;
    background-color: var(--color-primary);
    border-bottom: var(--gap-size) solid var(--color-border);
    flex-shrink: 0;
}

/* Celda de la esquina (vacía en las cabeceras) */
.corner-header {
    background-color: var(--color-primary);
    padding: 0;
    border-right: var(--gap-size) solid var(--color-border);
    height: var(--header-height-week-day);
    min-height: var(--header-height-week-day);
    max-height: var(--header-height-week-day);
}

/* Cabeceras de los días de la semana/día */
.dia-semana-completo {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: 5px;
    border-right: var(--gap-size) solid var(--color-border);
    background-color: var(--color-bg-panel);
    color: var(--color-text-light);
    font-size: 0.9em;
    cursor: pointer;
    transition: background-color 0.2s ease;
    min-height: var(--header-height-week-day);
    max-height: var(--header-height-week-day);
    height: var(--header-height-week-day);
    overflow: hidden;
    box-sizing: border-box;
}

.dia-semana-completo:last-child {
    border-right: none;
}

.dia-semana-completo:hover {
    background-color: var(--color-hover);
}

.dia-semana-completo.hoy {
    background-color: var(--color-hoy-bg);
    box-shadow: inset 0 0 0 2px var(--color-active);
}
.dia-semana-completo.hoy .hoy-text {
    font-size: 0.7em;
    background-color: rgba(0, 0, 0, 0.3);
    padding: 2px 5px;
    border-radius: 3px;
    margin-top: 3px;
    white-space: nowrap;
    text-overflow: ellipsis;
    overflow: hidden;
    max-width: 100%;
    box-sizing: border-box;
}


/* Grid principal para los slots de tiempo y tareas */
.calendar-time-slots-grid {
    display: grid;
    grid-template-columns: var(--hour-column-width) repeat(7, 1fr);
    grid-auto-rows: minmax(var(--slot-height), 1fr);
    gap: var(--gap-size);
    background-color: var(--color-border);
    flex-grow: 1;
    overflow-y: auto;
    min-height: 0;
}

/* Para la vista de día, ajustar las columnas */
#calendar.calendar-grid-dia .calendar-time-slots-grid {
    grid-template-columns: var(--hour-column-width) 1fr;
}

.hora-slot {
    background-color: rgba(255, 255, 255, 0.08);
    position: relative;
    justify-content: flex-start;
    align-items: stretch;
    overflow: hidden;
    box-sizing: border-box;
}

.hora-slot.hora-label {
    background-color: var(--color-primary);
    color: var(--color-text-light);
    font-weight: bold;
    justify-content: center;
    align-items: center;
    font-size: 0.9em;
    padding: 0 5px;
}

/* Slot donde se renderizan las tareas */
.tarea-area-slot {
    background-color: var(--color-bg-panel);
}

/* Tarjeta de tarea */
.tarea-card {
    background-color: var(--color-task-bg);
    color: var(--color-text-light);
    border-radius: 4px;
    padding: 5px 8px;
    font-size: 0.8em;
    cursor: pointer;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
    text-align: left;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
    box-sizing: border-box;
    position: absolute;
    transition: transform 0.1s ease;
    line-height: 1.2;
    left: 0;
    width: 100%;
    z-index: 2;
}

.tarea-card strong {
    display: block;
    font-size: 1.1em;
    margin-bottom: 2px;
    line-height: 1.2;
}

.tarea-card:hover {
    background-color: #a000a0;
    transform: translateY(-1px);
}

/* -------------------------------
   Modal de Detalles/Edición de Tarea
---------------------------------- */
.modal {
    display: none; /* Oculto por defecto */
    position: fixed;
    z-index: 1000;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    background-color: var(--modal-bg);
    justify-content: center;
    align-items: center;
    overflow: auto;
}

.modal-contenido {
    background-color: var(--modal-content-bg);
    margin: auto;
    padding: 30px;
    border-radius: 10px;
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.4);
    width: 90%;
    max-width: 600px;
    position: relative;
    color: var(--color-text-light);
}

.cerrar-modal {
    color: #aaa;
    position: absolute;
    top: 10px;
    right: 15px;
    font-size: 28px;
    font-weight: bold;
    cursor: pointer;
    transition: color 0.2s ease;
}

.cerrar-modal:hover,
.cerrar-modal:focus {
    color: var(--color-secondary);
    text-decoration: none;
}

.modal-contenido h2 {
    color: var(--color-active);
    text-align: center;
    margin-top: 0;
    border-bottom: 1px solid var(--color-border);
    padding-bottom: 10px;
    margin-bottom: 20px;
}

.modal-contenido h4 {
    color: var(--color-active);
    margin-top: 20px;
    margin-bottom: 10px;
}

.modal-contenido p {
    margin-bottom: 8px;
}

.modal-contenido label {
    display: block;
    margin-top: 10px;
    margin-bottom: 5px;
    font-weight: bold;
}

.modal-contenido input[type="date"],
.modal-contenido input[type="time"],
.modal-contenido input[type="text"],
.modal-contenido input[type="number"],
.modal-contenido select { /* Estilos para select en el modal */
    width: calc(100% - 20px);
    padding: 10px;
    margin-bottom: 15px;
    border: 1px solid var(--color-border);
    border-radius: 5px;
    background-color: rgba(255, 255, 255, 0.15); /* Fondo oscuro/transparente */
    color: var(--color-text-light); /* Texto blanco */
    font-size: 1em;
    appearance: none; /* Elimina estilos por defecto del navegador para flecha (para estilizarla) */
    -webkit-appearance: none; /* Para Safari/Chrome */
    -moz-appearance: none; /* Para Firefox */
    background-image: url('data:image/svg+xml;utf8,<svg fill="%23ffffff" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M7 10l5 5 5-5z"/><path d="M0 0h24v24H0z" fill="none"/></svg>'); /* Flecha SVG blanca */
    background-repeat: no-repeat;
    background-position: right 8px center;
    background-size: 16px;

    /* Intentar forzar el esquema de color en el desplegable */
    color-scheme: dark; /* Sugiere que el navegador renderice en modo oscuro */
}

/* Intentar estilizar las opciones dentro del select del modal (puede no funcionar en todos los navegadores) */
.modal-contenido select option {
    background-color: var(--modal-content-bg); /* Un fondo oscuro para las opciones */
    color: var(--color-text-light); /* Color de texto blanco para las opciones */
}


.modal-contenido input[type="date"]::-webkit-calendar-picker-indicator {
    filter: invert(1);
}

.modal-botones {
    display: flex;
    justify-content: flex-end;
    gap: 10px;
    margin-top: 20px;
    border-top: 1px solid var(--color-border);
    padding-top: 15px;
}

.modal-botones button {
    padding: 10px 20px;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    font-size: 0.95em;
    font-weight: bold;
    transition: background-color 0.2s ease, transform 0.1s ease;
}

#guardar-cambios {
    background-color: var(--color-task-badge);
    color: var(--color-text-light);
}

#guardar-cambios:hover {
    background-color: #218838;
    transform: translateY(-1px);
}

#eliminar-tarea {
    background-color: var(--color-secondary);
    color: var(--color-text-light);
}

#eliminar-tarea:hover {
    background-color: #c82333;
    transform: translateY(-1px);
}

#cancelar-edicion {
    background-color: #6c757d;
    color: var(--color-text-light);
}

#cancelar-edicion:hover {
    background-color: #5a6268;
    transform: translateY(-1px);
}

/* -------------------------------
   Media Queries para Responsividad
---------------------------------- */

/* Para pantallas más pequeñas (móviles) */
@media (max-width: 768px) {
    body {
        flex-direction: column;
        overflow-y: auto;
        height: auto;
    }

    aside {
        width: auto;
        border-right: none;
        border-bottom: 1px solid var(--color-border);
        padding-bottom: 0;
    }

    #panel-derecho {
        border-left: none;
        border-top: 1px solid var(--color-border);
    }

    /* Ajustar panel-tareas para móviles (ahora es #proximas-tareas-container) */
    #proximas-tareas-container { /* Actualizado el selector */
        gap: 5px; /* Menos espacio en móviles */
    }

    #main-content-area {
        margin: 10px;
        gap: 15px; /* Mantener el gap en móviles, ajusta si es necesario */
        min-height: 0;
    }
    /* En móviles, también ajustamos el gap si está en vista de semana/día */
    #main-content-area.week-day-view {
        gap: 0;
    }


    #calendar-header {
        flex-wrap: wrap;
        justify-content: center;
        padding: 8px 5px;
    }

    #calendar-header h2 {
        width: 100%;
        margin-bottom: 10px;
    }

    #calendar-header button {
        padding: 6px 10px;
        font-size: 0.9em;
        margin: 0 3px;
    }

    #view-selector {
        flex-direction: column;
        width: 100%;
        margin-top: 10px;
        gap: 5px;
        align-items: center;
    }
    #view-selector button {
        flex-grow: 1;
        width: auto;
    }

    /* Ajustes para dayPicker en móviles */
    #dayPicker {
        width: calc(100% - 20px); /* Ocupa casi todo el ancho */
        margin: 10px auto 0 auto; /* Centra y ajusta el margen */
        display: block; /* Asegura que ocupe su propia línea */
        padding: 6px 10px; /* Consistente con botones de vista en desktop, pero se adapta a móvil */
        font-size: 0.85em; /* Consistente con botones de vista en desktop, pero se adapta a móvil */
        height: auto; /* Dejar que el padding y font-size definan la altura en móvil */
        min-width: unset; /* Elimina min-width para que sea más flexible */
    }


    /* Ajustes para las vistas de calendario en mobile */
    .calendar-grid-mes {
        grid-auto-rows: minmax(60px, auto);
    }
    .dia-numero {
        font-size: 1em;
    }
    .dia.hoy .hoy-text {
        font-size: 0.6em;
    }
    .tarea-badge {
        width: 18px;
        height: 18px;
        font-size: 0.6em;
        bottom: 3px;
        right: 3px;
    }

    /* Ajustes para las cabeceras de semana/día en mobile */
    .calendar-week-headers {
        grid-template-columns: 40px repeat(7, 1fr);
        grid-template-rows: var(--header-height-week-day);
    }
    .calendar-day-header-single {
        grid-template-columns: 40px 1fr;
        grid-template-rows: var(--header-height-week-day);
    }
    .dia-semana-completo {
        padding: 5px;
        min-height: var(--header-height-week-day);
        max-height: var(--header-height-week-day);
        height: var(--header-height-week-day);
    }
    .dia-semana-completo .nombre-dia {
        font-size: 0.7em;
    }
    .dia-semana-completo .dia-numero {
        font-size: 0.9em;
    }
    .dia-semana-completo.hoy .hoy-text {
        font-size: 0.45em;
        padding: 0 1px;
    }

    /* Ajustes para los slots de tiempo en mobile */
    .calendar-time-slots-grid {
        grid-template-columns: 40px repeat(7, 1fr);
        grid-auto-rows: minmax(var(--slot-height), 1fr); /* También en mobile */
    }
    #calendar.calendar-grid-dia .calendar-time-slots-grid {
        grid-template-columns: 40px 1fr;
    }
    .hora-slot.hora-label {
        width: 40px;
        font-size: 0.8em;
    }
    .tarea-card {
        padding: 3px 5px;
        font-size: 0.7em;
    }

    .modal-contenido {
        width: 95%;
        padding: 20px;
    }
    .modal-botones {
        flex-direction: column;
    }
    .modal-botones button {
        width: 100%;
        margin-bottom: 8px;
    }
}